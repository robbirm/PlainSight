<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Plain Sight - Main Menu</title>
  <link rel="stylesheet" href="css/styles-main.css">
  <link rel="stylesheet" href="css/homepage.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Atma:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <h1>Plain Sight</h1>
  <h3>Created by Rob Holland</h3>
  <div class="menu-buttons">
    <button onclick="startGame()">Start Game</button>
    <button onclick="toggleLevelSelect()">Level Select</button>
    <button onclick="window.location.href='trophies.html'">Trophies</button>
  </div>

  <div class="level-select" id="levelSelect">
    <button class="back-button" onclick="toggleLevelSelect()">Back</button>

    <div class="level-row" onclick="startLevel('level 1.html', 'level1')">
      <div class="level-name">Level 1</div>
      <div class="level-icons">
        <div class="badge" data-level="level1"><img class="badge-icon" src="icons/trophy.png" alt="Level 1"></div>
        <div class="badge" data-gnome="level1.1"><img class="badge-icon" src="icons/gnome.png" alt="Gnome 1.1"></div>
        <div class="badge" data-gnome="level1.2"><img class="badge-icon" src="icons/gnome.png" alt="Gnome 1.2"></div>
        <div class="badge" data-gnome="level1.3"><img class="badge-icon" src="icons/gnome.png" alt="Gnome 1.3"></div>
        <img class="badge-icon" src="icons/galaxy.png" alt="Collectible">
      </div>
    </div>

    <div class="level-row" onclick="startLevel('level 2.html', 'level2', 'level1')">
      <div class="level-name">Level 2</div>
      <div class="level-icons">
        <div class="badge" data-level="level2"><img class="badge-icon" src="icons/trophy.png" alt="Level 2"></div>
        <div class="badge" data-gnome="level2.1"><img class="badge-icon" src="icons/gnome.png" alt="Gnome 2.1"></div>
        <div class="badge" data-gnome="level2.2"><img class="badge-icon" src="icons/gnome.png" alt="Gnome 2.2"></div>
        <img class="badge-icon" src="icons/galaxy.png" alt="Collectible">
      </div>
    </div>

    <div class="level-row" onclick="startLevel('level 3.html', 'level3', 'level2')">
      <div class="level-name">Level 3</div>
      <div class="level-icons">
        <div class="badge" data-level="level3"><img class="badge-icon" src="icons/trophy.png" alt="Trophy"></div>
        <div class="badge" data-gnome="level3.1"><img class="badge-icon" src="icons/gnome.png" alt="Gnome 3.1"></div>
        <div class="badge" data-gnome="level3.2"><img class="badge-icon" src="icons/gnome.png" alt="Gnome 3.2"></div>
        <div class="badge" data-gnome="level3.3"><img class="badge-icon" src="icons/gnome.png" alt="Gnome 3.3"></div>
        <img class="badge-icon" src="icons/galaxy.png" alt="Collectible">
      </div>
    </div>

    <div class="level-row" onclick="startLevel('level 4.html', 'level4', 'level3')">
      <div class="level-name">Level 4</div>
      <div class="level-icons">
        <div class="badge" data-level="level4"><img class="badge-icon" src="icons/trophy.png" alt="Trophy"></div>
        <div class="badge" data-gnome="level4.1"><img class="badge-icon" src="icons/gnome.png" alt="Gnome 4.1"></div>
        <div class="badge" data-gnome="level4.2"><img class="badge-icon" src="icons/gnome.png" alt="Gnome 4.2"></div>
        <div class="badge" data-gnome="level4.3"><img class="badge-icon" src="icons/gnome.png" alt="Gnome 4.3"></div>
        <div class="badge" data-gnome="level4.4"><img class="badge-icon" src="icons/gnome.png" alt="Gnome 4.4"></div>
        <img class="badge-icon" src="icons/galaxy.png" alt="Collectible">
      </div>
    </div>

    <div class="level-row" onclick="startLevel('level 5.html', 'level5', 'level4')">
      <div class="level-name">Level 5</div>
      <div class="level-icons">
        <div class="badge" data-level="level5"><img class="badge-icon" src="icons/trophy.png" alt="Trophy"></div>
        <div class="badge" data-gnome="level5.1"><img class="badge-icon" src="icons/gnome.png" alt="Gnome 5.1"></div>
        <div class="badge" data-gnome="level5.2"><img class="badge-icon" src="icons/gnome.png" alt="Gnome 5.2"></div>
        <div class="badge" data-gnome="level5.3"><img class="badge-icon" src="icons/gnome.png" alt="Gnome 5.3"></div>
        <img class="badge-icon" src="icons/galaxy.png" alt="Collectible">
      </div>
    </div>

  </div>
</body>

<script src="script/savedata.js"></script>
<script>
  let levelSelectVisible = false;

  function toggleLevelSelect() {
    const levelSelect = document.getElementById('levelSelect');
    if (levelSelectVisible) {
      levelSelect.classList.remove('show');
      levelSelectVisible = false;
    } else {
      levelSelect.classList.add('show');
      levelSelectVisible = true;
    }
  }

  function startGame() {
    window.location.href = 'map.html';
  }

  function startLevel(url, levelKey, requiredKey) {
    if (!requiredKey || window.checkCompletion(requiredKey)) {
      window.location.href = url;
    } else {
      alert("Complete the previous level to unlock this one!");
    }
  }
</script>
</html>
