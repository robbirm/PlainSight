<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Plain Sight</title>

  <link rel="stylesheet" href="css/styles-main.css">
  <link rel="stylesheet" href="css/menu.css">
  <link rel="stylesheet" href="css/level2.css">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Atma:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <style>
    .sprite-container {
      width: 750px;
      height: 1400px;
      overflow: hidden;
      position: absolute;
      top: 20px; /* adjust position as needed */
      left: 20px;
      z-index: 10;
      pointer-events: none;
    }

    .sprite {
      background: url('backgrounds/level2/Windmill.jpg') no-repeat;
      width: 3000px; /* 4 frames * 750px */
      height:1400px;
      animation: windmillCycle 4s steps(4) infinite;
    }

    @keyframes windmillCycle {
      from {
        transform: translateX(0);
      }
      to {
        transform: translateX(-3000px);
      }
    }
  </style>
</head>

<body data-level="level1">

<div class="game-container" id="game">

  <!-- Game Wrapper -->
  <div id="imageWrapper">
    <img src="backgrounds/level 2.jpg" class="game-image" id="gameImage">

    <!-- Windmill Sprite Animation -->
    <div class="sprite-container">
      <div class="sprite"></div>
    </div>

    <!-- House Interior -->
    <div id="houseInterior1">
      <img src="backgrounds/level2/house-interior1.png"/>
      <div id="houseInterior1exit"></div>
    </div>

    <!-- Cave Interiors -->
    <div id="caveInterior1">
      <img src="backgrounds/level2/cave-interior1.png"/>
      <div id="caveInterior1exit">Exit Cave</div>
    </div>

    <div id="caveInterior2">
      <img src="backgrounds/level2/cave-interior2.png"/>
      <div id="caveInterior2exit"></div>
    </div>

    <!-- Other Elements -->
    <div id="shotTarget">
      <img src="backgrounds/level2/shotTarget.png"/>
    </div>

    <!-- Clickable Objects -->
    <div id="houseDoor1"></div>
    <div id="caveDoor1"></div>
    <div id="caveDoor2"></div>
  </div>

  <!-- Popup Overlay -->
  <div id="popupOverlay" class="popup-overlay" style="display:none;">
    <div class="popup-content">
      <span id="popupClose" class="popup-close">âœ–</span>
      <img id="popupImage" src="" alt="Hidden item">
    </div>
  </div>

  <!-- Checklist Panel -->
  <div class="checklist-panel" id="checklistPanel">
    <div class="checklist-title">Hidden Items</div>
    <div id="hintList"></div>
  </div>
</div>

<!-- Progress Bar & Level Icons -->
<div class="progress-bar-overlay">
  <div class="progress-bar-container">
    <div class="progress-bar" id="progressBar"></div>
  </div>

  <div class="level-icons-overlay">
    <div class="badge" data-level="level2"><img src="icons/trophy.png" alt="Level Complete"></div>
    <div class="badge" data-gnome="level2.1"><img src="icons/gnome.png" alt="Gnome Found"></div>
    <div class="badge" data-gnome="level2.2"><img src="icons/gnome.png" alt="Gnome Found"></div>
    <div class="badge" data-extra="galaxy"><img src="icons/galaxy.png" alt="Galaxy Found"></div>
  </div>
</div>

<!-- Buttons -->
<button class="menu-button" onclick="toggleMenuPanel()"><img src="icons/home.png"/></button>
<button class="items-button" onclick="toggleChecklist()">
  <img id="treasureOpen" src="icons/treasureOpen.png"/>
  <img id="treasureClosed" src="icons/treasureClosed.png"/>
</button>

<!-- Menu Panel -->
<div class="menu-panel" id="menuPanel">
  <button onclick="window.location.href='index.html'"><p>Home</p></button>
  <button onclick="window.location.href='trophies.html'"><p>Trophies</p></button>
  <button onclick="resetGame()"><p>Reset</p></button>
  <button onclick="exitGame()"><p>Exit</p></button>
</div>

<!-- Audio -->
<audio id="openSound" src="sounds/doorOpen.mp3"></audio>
<audio id="brushSound" src="sounds/brush.mp3"></audio>
<audio id="closeSound" src="sounds/doorClose.mp3"></audio>
<audio id="foundSound" src="sounds/crunch.mp3"></audio>
<audio id="squeakSound" src="sounds/squeak.mp3"></audio>
<audio id="ooohSound" src="sounds/oooh.mp3"></audio>
<audio id="gnomeSound" src="sounds/gnomeeffect.wav"></audio>
<audio id="shotSound" src="sounds/shot.mp3"></audio>
<audio id="qmSound" src="sounds/qm.mp3"></audio>

<!-- Scripts -->
<script src="script/savedata.js"></script>
<script src="script/level 2.js"></script>
<script src="script/hints.js"></script>
<script src="script/menu.js"></script>
<script src="script/level2gnome.js"></script>

</body>
</html>
